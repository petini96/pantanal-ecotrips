var __defProp = Object.defineProperty;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __esm = (fn, res) => function __init() {
  return fn && (res = (0, fn[__getOwnPropNames(fn)[0]])(fn = 0)), res;
};
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};

// node_modules/@quasar/app-vite/exports/wrappers/wrappers.js
var wrapper, defineSsrMiddleware, defineSsrCreate, defineSsrListen, defineSsrClose, defineSsrServeStaticContent, defineSsrRenderPreloadTag;
var init_wrappers = __esm({
  "node_modules/@quasar/app-vite/exports/wrappers/wrappers.js"() {
    wrapper = (callback) => callback;
    defineSsrMiddleware = wrapper;
    defineSsrCreate = wrapper;
    defineSsrListen = wrapper;
    defineSsrClose = wrapper;
    defineSsrServeStaticContent = wrapper;
    defineSsrRenderPreloadTag = wrapper;
  }
});

// src-ssr/middlewares/render.ts
var render_exports = {};
__export(render_exports, {
  default: () => render_default
});
var render_default;
var init_render = __esm({
  "src-ssr/middlewares/render.ts"() {
    "use strict";
    init_wrappers();
    render_default = defineSsrMiddleware(({ app, render, serve }) => {
      app.get(/.*/, (req, res) => {
        res.setHeader("Content-Type", "text/html");
        render(
          /* the ssrContext: */
          { req, res }
        ).then((html) => {
          res.send(html);
        }).catch((err) => {
          if (err.url) {
            if (err.code) {
              res.redirect(err.code, err.url);
            } else {
              res.redirect(err.url);
            }
          } else if (err.code === 404) {
            res.status(404).send("404 | Page Not Found");
          } else if (true) {
            serve.error({ err, req, res });
          } else {
            res.status(500).send("500 | Internal Server Error");
            if (true) {
              console.error(err.stack);
            }
          }
        });
      });
    });
  }
});

// src-ssr/server.ts
init_wrappers();
import express from "express";
import "compression";
var create = defineSsrCreate(() => {
  const app = express();
  app.disable("x-powered-by");
  if (false) {
    app.use(compression());
  }
  return app;
});
var listen = defineSsrListen(({ app, devHttpsApp, port }) => {
  const server = devHttpsApp || app;
  return server.listen(port, () => {
    if (false) {
      console.log("Server listening at port " + port);
    }
  });
});
var close = defineSsrClose(({ listenResult }) => {
  return listenResult.close();
});
var maxAge = true ? 0 : 1e3 * 60 * 60 * 24 * 30;
var serveStaticContent = defineSsrServeStaticContent(({ app, resolve }) => {
  return ({ urlPath = "/", pathToServe = ".", opts = {} }) => {
    const serveFn = express.static(resolve.public(pathToServe), { maxAge, ...opts });
    app.use(resolve.urlPath(urlPath), serveFn);
  };
});
var jsRE = /\.js$/;
var cssRE = /\.css$/;
var woffRE = /\.woff$/;
var woff2RE = /\.woff2$/;
var gifRE = /\.gif$/;
var jpgRE = /\.jpe?g$/;
var pngRE = /\.png$/;
var renderPreloadTag = defineSsrRenderPreloadTag((file) => {
  if (jsRE.test(file) === true) {
    return `<link rel="modulepreload" href="${file}" crossorigin>`;
  }
  if (cssRE.test(file) === true) {
    return `<link rel="stylesheet" href="${file}" crossorigin>`;
  }
  if (woffRE.test(file) === true) {
    return `<link rel="preload" href="${file}" as="font" type="font/woff" crossorigin>`;
  }
  if (woff2RE.test(file) === true) {
    return `<link rel="preload" href="${file}" as="font" type="font/woff2" crossorigin>`;
  }
  if (gifRE.test(file) === true) {
    return `<link rel="preload" href="${file}" as="image" type="image/gif" crossorigin>`;
  }
  if (jpgRE.test(file) === true) {
    return `<link rel="preload" href="${file}" as="image" type="image/jpeg" crossorigin>`;
  }
  if (pngRE.test(file) === true) {
    return `<link rel="preload" href="${file}" as="image" type="image/png" crossorigin>`;
  }
  return "";
});

// .quasar/dev-ssr/ssr-middlewares.js
function injectMiddlewares(opts) {
  return Promise.all([
    Promise.resolve().then(() => (init_render(), render_exports))
  ]).then(async (rawMiddlewares) => {
    const middlewares = rawMiddlewares.map((entry) => entry.default);
    for (let i = 0; i < middlewares.length; i++) {
      try {
        await middlewares[i](opts);
      } catch (err) {
        console.error("[Quasar SSR] middleware error:", err);
        return;
      }
    }
  });
}
export {
  close,
  create,
  injectMiddlewares,
  listen,
  renderPreloadTag,
  serveStaticContent
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vbm9kZV9tb2R1bGVzL0BxdWFzYXIvYXBwLXZpdGUvZXhwb3J0cy93cmFwcGVycy93cmFwcGVycy5qcyIsICIuLi8uLi9zcmMtc3NyL21pZGRsZXdhcmVzL3JlbmRlci50cyIsICIuLi8uLi9zcmMtc3NyL3NlcnZlci50cyIsICJzc3ItbWlkZGxld2FyZXMuanMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbIi8vIEZ1bmN0aW9ucyBpbiB0aGlzIGZpbGUgYXJlIG5vLW9wLFxuLy8gIHRoZXkganVzdCB0YWtlIGEgY2FsbGJhY2sgZnVuY3Rpb24gYW5kIHJldHVybiBpdFxuLy8gVGhleSdyZSB1c2VkIHRvIGFwcGx5IHR5cGluZ3MgdG8gdGhlIGNhbGxiYWNrXG4vLyAgcGFyYW1ldGVycyBhbmQgcmV0dXJuIHZhbHVlIHdoZW4gdXNpbmcgUXVhc2FyIHdpdGggVHlwZVNjcmlwdFxuXG5jb25zdCB3cmFwcGVyID0gY2FsbGJhY2sgPT4gY2FsbGJhY2tcblxuZXhwb3J0IGNvbnN0IGRlZmluZUNvbmZpZyA9IHdyYXBwZXJcblxuZXhwb3J0IGNvbnN0IGRlZmluZUJvb3QgPSB3cmFwcGVyXG5leHBvcnQgY29uc3QgZGVmaW5lUHJlRmV0Y2ggPSB3cmFwcGVyXG5leHBvcnQgY29uc3QgZGVmaW5lUm91dGVyID0gd3JhcHBlclxuZXhwb3J0IGNvbnN0IGRlZmluZVN0b3JlID0gd3JhcHBlclxuXG5leHBvcnQgY29uc3QgZGVmaW5lU3NyTWlkZGxld2FyZSA9IHdyYXBwZXJcbmV4cG9ydCBjb25zdCBkZWZpbmVTc3JDcmVhdGUgPSB3cmFwcGVyXG5leHBvcnQgY29uc3QgZGVmaW5lU3NySW5qZWN0RGV2TWlkZGxld2FyZSA9IHdyYXBwZXJcbmV4cG9ydCBjb25zdCBkZWZpbmVTc3JMaXN0ZW4gPSB3cmFwcGVyXG5leHBvcnQgY29uc3QgZGVmaW5lU3NyQ2xvc2UgPSB3cmFwcGVyXG5leHBvcnQgY29uc3QgZGVmaW5lU3NyU2VydmVTdGF0aWNDb250ZW50ID0gd3JhcHBlclxuZXhwb3J0IGNvbnN0IGRlZmluZVNzclJlbmRlclByZWxvYWRUYWcgPSB3cmFwcGVyXG4iLCAiaW1wb3J0IHsgdHlwZSBSZXF1ZXN0LCB0eXBlIFJlc3BvbnNlIH0gZnJvbSAnZXhwcmVzcyc7XHJcbmltcG9ydCB7IHR5cGUgUmVuZGVyRXJyb3IgfSBmcm9tICcjcS1hcHAnO1xyXG5pbXBvcnQgeyBkZWZpbmVTc3JNaWRkbGV3YXJlIH0gZnJvbSAnI3EtYXBwL3dyYXBwZXJzJztcclxuXHJcbi8vIFRoaXMgbWlkZGxld2FyZSBzaG91bGQgZXhlY3V0ZSBhcyBsYXN0IG9uZVxyXG4vLyBzaW5jZSBpdCBjYXB0dXJlcyBldmVyeXRoaW5nIGFuZCB0cmllcyB0b1xyXG4vLyByZW5kZXIgdGhlIHBhZ2Ugd2l0aCBWdWVcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGRlZmluZVNzck1pZGRsZXdhcmUoKHsgYXBwLCByZW5kZXIsIHNlcnZlIH0pID0+IHtcclxuICAvLyB3ZSBjYXB0dXJlIGFueSBvdGhlciBFeHByZXNzIHJvdXRlIGFuZCBoYW5kIGl0XHJcbiAgLy8gb3ZlciB0byBWdWUgYW5kIFZ1ZSBSb3V0ZXIgdG8gcmVuZGVyIG91ciBwYWdlXHJcbiAgXHJcbiAgLy8gQVFVSSBFU1RcdTAwQzEgQSBDT1JSRVx1MDBDN1x1MDBDM086IHRyb2NhbW9zIHJlc29sdmUudXJsUGF0aCgnKicpIHBvciAvLiovXHJcbiAgYXBwLmdldCgvLiovLCAocmVxOiBSZXF1ZXN0LCByZXM6IFJlc3BvbnNlKSA9PiB7XHJcbiAgICByZXMuc2V0SGVhZGVyKCdDb250ZW50LVR5cGUnLCAndGV4dC9odG1sJyk7XHJcblxyXG4gICAgcmVuZGVyKC8qIHRoZSBzc3JDb250ZXh0OiAqLyB7IHJlcSwgcmVzIH0pXHJcbiAgICAgIC50aGVuKChodG1sKSA9PiB7XHJcbiAgICAgICAgLy8gbm93IGxldCdzIHNlbmQgdGhlIHJlbmRlcmVkIGh0bWwgdG8gdGhlIGNsaWVudFxyXG4gICAgICAgIHJlcy5zZW5kKGh0bWwpO1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goKGVycjogUmVuZGVyRXJyb3IpID0+IHtcclxuICAgICAgICAvLyBvb3BzLCB3ZSBoYWQgYW4gZXJyb3Igd2hpbGUgcmVuZGVyaW5nIHRoZSBwYWdlXHJcblxyXG4gICAgICAgIC8vIHdlIHdlcmUgdG9sZCB0byByZWRpcmVjdCB0byBhbm90aGVyIFVSTFxyXG4gICAgICAgIGlmIChlcnIudXJsKSB7XHJcbiAgICAgICAgICBpZiAoZXJyLmNvZGUpIHtcclxuICAgICAgICAgICAgcmVzLnJlZGlyZWN0KGVyci5jb2RlLCBlcnIudXJsKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJlcy5yZWRpcmVjdChlcnIudXJsKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgaWYgKGVyci5jb2RlID09PSA0MDQpIHtcclxuICAgICAgICAgIC8vIGhtbSwgVnVlIFJvdXRlciBjb3VsZCBub3QgZmluZCB0aGUgcmVxdWVzdGVkIHJvdXRlXHJcblxyXG4gICAgICAgICAgLy8gU2hvdWxkIHJlYWNoIGhlcmUgb25seSBpZiBubyBcImNhdGNoLWFsbFwiIHJvdXRlXHJcbiAgICAgICAgICAvLyBpcyBkZWZpbmVkIGluIC9zcmMvcm91dGVzXHJcbiAgICAgICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCgnNDA0IHwgUGFnZSBOb3QgRm91bmQnKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHByb2Nlc3MuZW52LkRFVikge1xyXG4gICAgICAgICAgLy8gd2VsbCwgd2UgdHJlYXQgYW55IG90aGVyIGNvZGUgYXMgZXJyb3I7XHJcbiAgICAgICAgICAvLyBpZiB3ZSdyZSBpbiBkZXYgbW9kZSwgdGhlbiB3ZSBjYW4gdXNlIFF1YXNhciBDTElcclxuICAgICAgICAgIC8vIHRvIGRpc3BsYXkgYSBuaWNlIGVycm9yIHBhZ2UgdGhhdCBjb250YWlucyB0aGUgc3RhY2tcclxuICAgICAgICAgIC8vIGFuZCBvdGhlciB1c2VmdWwgaW5mb3JtYXRpb25cclxuXHJcbiAgICAgICAgICAvLyBzZXJ2ZS5lcnJvciBpcyBhdmFpbGFibGUgb24gZGV2IG9ubHlcclxuICAgICAgICAgIHNlcnZlLmVycm9yKHsgZXJyLCByZXEsIHJlcyB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgLy8gd2UncmUgaW4gcHJvZHVjdGlvbiwgc28gd2Ugc2hvdWxkIGhhdmUgYW5vdGhlciBtZXRob2RcclxuICAgICAgICAgIC8vIHRvIGRpc3BsYXkgc29tZXRoaW5nIHRvIHRoZSBjbGllbnQgd2hlbiB3ZSBlbmNvdW50ZXIgYW4gZXJyb3JcclxuICAgICAgICAgIC8vIChmb3Igc2VjdXJpdHkgcmVhc29ucywgaXQncyBub3Qgb2sgdG8gZGlzcGxheSB0aGUgc2FtZSB3ZWFsdGhcclxuICAgICAgICAgIC8vIG9mIGluZm9ybWF0aW9uIGFzIHdlIGRvIGluIGRldmVsb3BtZW50KVxyXG5cclxuICAgICAgICAgIC8vIFJlbmRlciBFcnJvciBQYWdlIG9uIHByb2R1Y3Rpb24gb3JcclxuICAgICAgICAgIC8vIGNyZWF0ZSBhIHJvdXRlICgvc3JjL3JvdXRlcykgZm9yIGFuIGVycm9yIHBhZ2UgYW5kIHJlZGlyZWN0IHRvIGl0XHJcbiAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCgnNTAwIHwgSW50ZXJuYWwgU2VydmVyIEVycm9yJyk7XHJcblxyXG4gICAgICAgICAgaWYgKHByb2Nlc3MuZW52LkRFQlVHR0lORykge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGVyci5zdGFjayk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICB9KTtcclxufSk7XHJcbiIsICIvKipcclxuICogTW9yZSBpbmZvIGFib3V0IHRoaXMgZmlsZTpcclxuICogaHR0cHM6Ly92Mi5xdWFzYXIuZGV2L3F1YXNhci1jbGktdml0ZS9kZXZlbG9waW5nLXNzci9zc3Itd2Vic2VydmVyXHJcbiAqXHJcbiAqIFJ1bnMgaW4gTm9kZSBjb250ZXh0LlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBNYWtlIHN1cmUgdG8geWFybiBhZGQgLyBucG0gaW5zdGFsbCAoaW4geW91ciBwcm9qZWN0IHJvb3QpXHJcbiAqIGFueXRoaW5nIHlvdSBpbXBvcnQgaGVyZSAoZXhjZXB0IGZvciBleHByZXNzIGFuZCBjb21wcmVzc2lvbikuXHJcbiAqL1xyXG5pbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcclxuaW1wb3J0IGNvbXByZXNzaW9uIGZyb20gJ2NvbXByZXNzaW9uJztcclxuaW1wb3J0IHtcclxuICBkZWZpbmVTc3JDcmVhdGUsXHJcbiAgZGVmaW5lU3NyTGlzdGVuLFxyXG4gIGRlZmluZVNzckNsb3NlLFxyXG4gIGRlZmluZVNzclNlcnZlU3RhdGljQ29udGVudCxcclxuICBkZWZpbmVTc3JSZW5kZXJQcmVsb2FkVGFnXHJcbn0gZnJvbSAnI3EtYXBwL3dyYXBwZXJzJztcclxuXHJcbi8qKlxyXG4gKiBDcmVhdGUgeW91ciB3ZWJzZXJ2ZXIgYW5kIHJldHVybiBpdHMgaW5zdGFuY2UuXHJcbiAqIElmIG5lZWRlZCwgcHJlcGFyZSB5b3VyIHdlYnNlcnZlciB0byByZWNlaXZlXHJcbiAqIGNvbm5lY3QtbGlrZSBtaWRkbGV3YXJlcy5cclxuICpcclxuICogQ2FuIGJlIGFzeW5jOiBkZWZpbmVTc3JDcmVhdGUoYXN5bmMgKHsgLi4uIH0pID0+IHsgLi4uIH0pXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgY3JlYXRlID0gZGVmaW5lU3NyQ3JlYXRlKCgvKiB7IC4uLiB9ICovKSA9PiB7XHJcbiAgY29uc3QgYXBwID0gZXhwcmVzcygpO1xyXG5cclxuICAvLyBhdHRhY2tlcnMgY2FuIHVzZSB0aGlzIGhlYWRlciB0byBkZXRlY3QgYXBwcyBydW5uaW5nIEV4cHJlc3NcclxuICAvLyBhbmQgdGhlbiBsYXVuY2ggc3BlY2lmaWNhbGx5LXRhcmdldGVkIGF0dGFja3NcclxuICBhcHAuZGlzYWJsZSgneC1wb3dlcmVkLWJ5Jyk7XHJcblxyXG4gIC8vIHBsYWNlIGhlcmUgYW55IG1pZGRsZXdhcmVzIHRoYXRcclxuICAvLyBhYnNvbHV0ZWx5IG5lZWQgdG8gcnVuIGJlZm9yZSBhbnl0aGluZyBlbHNlXHJcbiAgaWYgKHByb2Nlc3MuZW52LlBST0QpIHtcclxuICAgIGFwcC51c2UoY29tcHJlc3Npb24oKSk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gYXBwO1xyXG59KTtcclxuXHJcbi8qKlxyXG4gKiBZb3UgbmVlZCB0byBtYWtlIHRoZSBzZXJ2ZXIgbGlzdGVuIHRvIHRoZSBpbmRpY2F0ZWQgcG9ydFxyXG4gKiBhbmQgcmV0dXJuIHRoZSBsaXN0ZW5pbmcgaW5zdGFuY2Ugb3Igd2hhdGV2ZXIgeW91IG5lZWQgdG9cclxuICogY2xvc2UgdGhlIHNlcnZlciB3aXRoLlxyXG4gKlxyXG4gKiBUaGUgXCJsaXN0ZW5SZXN1bHRcIiBwYXJhbSBmb3IgdGhlIFwiY2xvc2UoKVwiIGRlZmluaXRpb24gYmVsb3dcclxuICogaXMgd2hhdCB5b3UgcmV0dXJuIGhlcmUuXHJcbiAqXHJcbiAqIEZvciBwcm9kdWN0aW9uLCB5b3UgY2FuIGluc3RlYWQgZXhwb3J0IHlvdXJcclxuICogaGFuZGxlciBmb3Igc2VydmVybGVzcyB1c2Ugb3Igd2hhdGV2ZXIgZWxzZSBmaXRzIHlvdXIgbmVlZHMuXHJcbiAqXHJcbiAqIENhbiBiZSBhc3luYzogZGVmaW5lU3NyTGlzdGVuKGFzeW5jICh7IGFwcCwgZGV2SHR0cHNBcHAsIHBvcnQgfSkgPT4geyAuLi4gfSlcclxuICovXHJcbmV4cG9ydCBjb25zdCBsaXN0ZW4gPSBkZWZpbmVTc3JMaXN0ZW4oKHsgYXBwLCBkZXZIdHRwc0FwcCwgcG9ydCB9KSA9PiB7XHJcbiAgY29uc3Qgc2VydmVyID0gZGV2SHR0cHNBcHAgfHwgYXBwO1xyXG4gIHJldHVybiBzZXJ2ZXIubGlzdGVuKHBvcnQsICgpID0+IHtcclxuICAgIGlmIChwcm9jZXNzLmVudi5QUk9EKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdTZXJ2ZXIgbGlzdGVuaW5nIGF0IHBvcnQgJyArIHBvcnQpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59KTtcclxuXHJcbi8qKlxyXG4gKiBTaG91bGQgY2xvc2UgdGhlIHNlcnZlciBhbmQgZnJlZSB1cCBhbnkgcmVzb3VyY2VzLlxyXG4gKiBXaWxsIGJlIHVzZWQgb24gZGV2ZWxvcG1lbnQgb25seSB3aGVuIHRoZSBzZXJ2ZXIgbmVlZHNcclxuICogdG8gYmUgcmVib290ZWQuXHJcbiAqXHJcbiAqIFNob3VsZCB5b3UgbmVlZCB0aGUgcmVzdWx0IG9mIHRoZSBcImxpc3RlbigpXCIgY2FsbCBhYm92ZSxcclxuICogeW91IGNhbiB1c2UgdGhlIFwibGlzdGVuUmVzdWx0XCIgcGFyYW0uXHJcbiAqXHJcbiAqIENhbiBiZSBhc3luYzogZGVmaW5lU3NyQ2xvc2UoYXN5bmMgKHsgbGlzdGVuUmVzdWx0IH0pID0+IHsgLi4uIH0pKVxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IGNsb3NlID0gZGVmaW5lU3NyQ2xvc2UoKHsgbGlzdGVuUmVzdWx0IH0pID0+IHtcclxuICByZXR1cm4gbGlzdGVuUmVzdWx0LmNsb3NlKCk7XHJcbn0pO1xyXG5cclxuY29uc3QgbWF4QWdlID0gcHJvY2Vzcy5lbnYuREVWID8gMCA6IDEwMDAgKiA2MCAqIDYwICogMjQgKiAzMDtcclxuXHJcbi8qKlxyXG4gKiBTaG91bGQgcmV0dXJuIGEgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIHVzZWQgdG8gY29uZmlndXJlIHRoZSB3ZWJzZXJ2ZXJcclxuICogdG8gc2VydmUgc3RhdGljIGNvbnRlbnQgYXQgXCJ1cmxQYXRoXCIgZnJvbSBcInBhdGhUb1NlcnZlXCIgZm9sZGVyL2ZpbGUuXHJcbiAqXHJcbiAqIE5vdGljZSByZXNvbHZlLnVybFBhdGgodXJsUGF0aCkgYW5kIHJlc29sdmUucHVibGljKHBhdGhUb1NlcnZlKSB1c2FnZXMuXHJcbiAqXHJcbiAqIENhbiBiZSBhc3luYzogZGVmaW5lU3NyU2VydmVTdGF0aWNDb250ZW50KGFzeW5jICh7IGFwcCwgcmVzb2x2ZSB9KSA9PiB7XHJcbiAqIENhbiByZXR1cm4gYW4gYXN5bmMgZnVuY3Rpb246IHJldHVybiBhc3luYyAoeyB1cmxQYXRoID0gJy8nLCBwYXRoVG9TZXJ2ZSA9ICcuJywgb3B0cyA9IHt9IH0pID0+IHtcclxuICovXHJcbmV4cG9ydCBjb25zdCBzZXJ2ZVN0YXRpY0NvbnRlbnQgPSBkZWZpbmVTc3JTZXJ2ZVN0YXRpY0NvbnRlbnQoKHsgYXBwLCByZXNvbHZlIH0pID0+IHtcclxuICByZXR1cm4gKHsgdXJsUGF0aCA9ICcvJywgcGF0aFRvU2VydmUgPSAnLicsIG9wdHMgPSB7fSB9KSA9PiB7XHJcbiAgICBjb25zdCBzZXJ2ZUZuID0gZXhwcmVzcy5zdGF0aWMocmVzb2x2ZS5wdWJsaWMocGF0aFRvU2VydmUpLCB7IG1heEFnZSwgLi4ub3B0cyB9KTtcclxuICAgIGFwcC51c2UocmVzb2x2ZS51cmxQYXRoKHVybFBhdGgpLCBzZXJ2ZUZuKTtcclxuICB9O1xyXG59KTtcclxuXHJcbmNvbnN0IGpzUkUgPSAvXFwuanMkLztcclxuY29uc3QgY3NzUkUgPSAvXFwuY3NzJC87XHJcbmNvbnN0IHdvZmZSRSA9IC9cXC53b2ZmJC87XHJcbmNvbnN0IHdvZmYyUkUgPSAvXFwud29mZjIkLztcclxuY29uc3QgZ2lmUkUgPSAvXFwuZ2lmJC87XHJcbmNvbnN0IGpwZ1JFID0gL1xcLmpwZT9nJC87XHJcbmNvbnN0IHBuZ1JFID0gL1xcLnBuZyQvO1xyXG5cclxuLyoqXHJcbiAqIFNob3VsZCByZXR1cm4gYSBTdHJpbmcgd2l0aCBIVE1MIG91dHB1dFxyXG4gKiAoaWYgYW55KSBmb3IgcHJlbG9hZGluZyBpbmRpY2F0ZWQgZmlsZVxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IHJlbmRlclByZWxvYWRUYWcgPSBkZWZpbmVTc3JSZW5kZXJQcmVsb2FkVGFnKChmaWxlLyogLCB7IHNzckNvbnRleHQgfSAqLykgPT4ge1xyXG4gIGlmIChqc1JFLnRlc3QoZmlsZSkgPT09IHRydWUpIHtcclxuICAgIHJldHVybiBgPGxpbmsgcmVsPVwibW9kdWxlcHJlbG9hZFwiIGhyZWY9XCIke2ZpbGV9XCIgY3Jvc3NvcmlnaW4+YDtcclxuICB9XHJcblxyXG4gIGlmIChjc3NSRS50ZXN0KGZpbGUpID09PSB0cnVlKSB7XHJcbiAgICByZXR1cm4gYDxsaW5rIHJlbD1cInN0eWxlc2hlZXRcIiBocmVmPVwiJHtmaWxlfVwiIGNyb3Nzb3JpZ2luPmA7XHJcbiAgfVxyXG5cclxuICBpZiAod29mZlJFLnRlc3QoZmlsZSkgPT09IHRydWUpIHtcclxuICAgIHJldHVybiBgPGxpbmsgcmVsPVwicHJlbG9hZFwiIGhyZWY9XCIke2ZpbGV9XCIgYXM9XCJmb250XCIgdHlwZT1cImZvbnQvd29mZlwiIGNyb3Nzb3JpZ2luPmA7XHJcbiAgfVxyXG5cclxuICBpZiAod29mZjJSRS50ZXN0KGZpbGUpID09PSB0cnVlKSB7XHJcbiAgICByZXR1cm4gYDxsaW5rIHJlbD1cInByZWxvYWRcIiBocmVmPVwiJHtmaWxlfVwiIGFzPVwiZm9udFwiIHR5cGU9XCJmb250L3dvZmYyXCIgY3Jvc3NvcmlnaW4+YDtcclxuICB9XHJcblxyXG4gIGlmIChnaWZSRS50ZXN0KGZpbGUpID09PSB0cnVlKSB7XHJcbiAgICByZXR1cm4gYDxsaW5rIHJlbD1cInByZWxvYWRcIiBocmVmPVwiJHtmaWxlfVwiIGFzPVwiaW1hZ2VcIiB0eXBlPVwiaW1hZ2UvZ2lmXCIgY3Jvc3NvcmlnaW4+YDtcclxuICB9XHJcblxyXG4gIGlmIChqcGdSRS50ZXN0KGZpbGUpID09PSB0cnVlKSB7XHJcbiAgICByZXR1cm4gYDxsaW5rIHJlbD1cInByZWxvYWRcIiBocmVmPVwiJHtmaWxlfVwiIGFzPVwiaW1hZ2VcIiB0eXBlPVwiaW1hZ2UvanBlZ1wiIGNyb3Nzb3JpZ2luPmA7XHJcbiAgfVxyXG5cclxuICBpZiAocG5nUkUudGVzdChmaWxlKSA9PT0gdHJ1ZSkge1xyXG4gICAgcmV0dXJuIGA8bGluayByZWw9XCJwcmVsb2FkXCIgaHJlZj1cIiR7ZmlsZX1cIiBhcz1cImltYWdlXCIgdHlwZT1cImltYWdlL3BuZ1wiIGNyb3Nzb3JpZ2luPmA7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gJyc7XHJcbn0pO1xyXG4iLCAiLyogZXNsaW50LWRpc2FibGUgKi9cbi8qKlxuICogVEhJUyBGSUxFIElTIEdFTkVSQVRFRCBBVVRPTUFUSUNBTExZLlxuICogRE8gTk9UIEVESVQuXG4gKiovXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluamVjdE1pZGRsZXdhcmVzIChvcHRzKSB7XG4gIHJldHVybiBQcm9taXNlLmFsbChbXG4gICAgXG4gICAgaW1wb3J0KCdhcHAvc3JjLXNzci9taWRkbGV3YXJlcy9yZW5kZXInKVxuICAgIFxuICBdKS50aGVuKGFzeW5jIHJhd01pZGRsZXdhcmVzID0+IHtcbiAgICBjb25zdCBtaWRkbGV3YXJlcyA9IHJhd01pZGRsZXdhcmVzXG4gICAgICAubWFwKGVudHJ5ID0+IGVudHJ5LmRlZmF1bHQpXG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1pZGRsZXdhcmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBtaWRkbGV3YXJlc1tpXShvcHRzKVxuICAgICAgfVxuICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdbUXVhc2FyIFNTUl0gbWlkZGxld2FyZSBlcnJvcjonLCBlcnIpXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgIH1cbiAgfSlcbn1cbiJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7O0FBQUEsSUFLTSxTQVNPLHFCQUNBLGlCQUVBLGlCQUNBLGdCQUNBLDZCQUNBO0FBcEJiO0FBQUE7QUFLQSxJQUFNLFVBQVUsY0FBWTtBQVNyQixJQUFNLHNCQUFzQjtBQUM1QixJQUFNLGtCQUFrQjtBQUV4QixJQUFNLGtCQUFrQjtBQUN4QixJQUFNLGlCQUFpQjtBQUN2QixJQUFNLDhCQUE4QjtBQUNwQyxJQUFNLDRCQUE0QjtBQUFBO0FBQUE7OztBQ3BCekM7QUFBQTtBQUFBO0FBQUE7QUFBQSxJ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
